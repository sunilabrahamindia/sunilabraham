<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{{ page.title }} | {{ site.title }}</title>

  <!-- Stylesheet -->
  <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="{{ '/assets/favicon.png' | relative_url }}">
  <link rel="apple-touch-icon" href="{{ '/assets/favicon.png' | relative_url }}">
  <link rel="shortcut icon" href="{{ '/assets/favicon.png' | relative_url }}">
</head>

<body>
  <div class="site-wrapper">

    <!-- Header -->
    {% include header.html %}

    <!-- Main Content -->
    <main class="content">
      {{ content }}
    </main>

    <!-- Footer -->
    {% include footer.html %}

  </div>

  <!-- Share Bar -->
  {% include share-bar.html %}

  <!-- Utility Toolbox -->
{% include utility-toolbox.html %}
  
<!-- =========================================================
     Section Header Link Script
     Purpose: Shows a ğŸ”— icon on hover and copies the full URL when clicked
     ========================================================= -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  document.querySelectorAll("h2[id], h3[id], h4[id], h5[id], h6[id]").forEach(header => {
    const link = document.createElement("a");
    link.className = "header-link";
    link.href = "#" + header.id;
    link.title = "Copy link to this section";
    link.textContent = "ğŸ”—"; // icon shown

    // ğŸ‘‡ Copy full URL (including #section) when clicked
    link.addEventListener("click", (e) => {
      e.preventDefault();
      const fullURL = window.location.origin + window.location.pathname + "#" + header.id;
      navigator.clipboard.writeText(fullURL).then(() => {
        link.textContent = "âœ…"; // show success tick
        setTimeout(() => (link.textContent = "ğŸ”—"), 1200); // revert back
      });
    });

    // ğŸ‘‡ Insert the icon at the start of the heading
    header.prepend(link);
  });
});
</script>

</body>
</html>
