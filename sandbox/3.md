---
layout: default
title: "Sandbox3"
sitemap: false
authors: ["Apurva Venkat", "Vandana Kamath"]
robots: noindex
---


## On This Day

This page presents a date-based view of writing and media coverage across **The Sunil Abraham Project**. It surfaces publications authored by Sunil Abraham and media coverage in which his work or views are quoted or discussed, organised by calendar date rather than by topic or publication.

The aim is archival rather than predictive: to offer a way of browsing the body of work through time, allowing patterns, intervals, and historical context to emerge naturally from the record.

Alongside publications and media mentions, Sunil Abraham has also conducted and participated in numerous events, talks, workshops, and consultations. However, these do not yet have consistent standalone coverage or structured metadata on the site. Event-related entries will be added gradually as documentation improves.

---

## Today
<div class="otd-section" id="today-section"></div>

## This Week
<div class="otd-section" id="this-week-section"></div>

## Previous Week
<div class="otd-section" id="previous-week-section"></div>

## Next Week
<div class="otd-section" id="next-week-section"></div>

<style>
.otd-section {
  margin-top: 1rem;
}

.otd-block {
  margin-bottom: 2rem;
}

.otd-block h3 {
  margin-bottom: 0.5rem;
}

.otd-list {
  padding-left: 1.2rem;
}

.otd-list li {
  margin-bottom: 0.6rem;
  line-height: 1.5;
}

.otd-meta {
  color: #555;
  font-size: 0.9rem;
}

@media (max-width: 640px) {
  .otd-list {
    padding-left: 1rem;
  }
}
</style>

<script>
(function () {
  const pages = {{ site.pages | jsonify }};
  const posts = {{ site.posts | jsonify }};
  const items = pages.concat(posts);

  const pubCategories = ["Publications", "Media articles"];
  const mentionCategory = "Media mentions";

  function parseDate(str) {
    const d = new Date(str);
    return isNaN(d) ? null : d;
  }

  function sameDay(a, b) {
    return a.getDate() === b.getDate() &&
           a.getMonth() === b.getMonth();
  }

  function inRange(date, start, end) {
    return date >= start && date <= end;
  }

  function filterItems(testFn) {
    return items.filter(item => {
      if (!item.date || !item.categories) return false;
      const d = parseDate(item.date);
      if (!d) return false;
      return testFn(d, item.categories);
    }).sort((a, b) => new Date(a.date) - new Date(b.date));
  }

  function renderSection(containerId, headingText, filterFn) {
    const container = document.getElementById(containerId);
    const pubs = filterItems((d, c) => filterFn(d) && c.some(x => pubCategories.includes(x)));
    const mentions = filterItems((d, c) => filterFn(d) && c.includes(mentionCategory));

    let html = "";

    html += `<div class="otd-block">
      <h3>Publications</h3>
      ${pubs.length ? "<ul class='otd-list'>" + pubs.map(p =>
        `<li><a href="${p.url}">${p.title}</a><div class="otd-meta">${p.description || ""}</div></li>`
      ).join("") + "</ul>" : "<p class='otd-meta'>No publications recorded for this period.</p>"}
    </div>`;

    html += `<div class="otd-block">
      <h3>Media mentions</h3>
      ${mentions.length ? "<ul class='otd-list'>" + mentions.map(m =>
        `<li><a href="${m.url}">${m.title}</a><div class="otd-meta">${m.description || ""}</div></li>`
      ).join("") + "</ul>" : "<p class='otd-meta'>No media mentions recorded for this period.</p>"}
    </div>`;

    container.innerHTML = html;
  }

  const today = new Date();
  const startOfWeek = new Date(today);
  startOfWeek.setDate(today.getDate() - today.getDay());
  const endOfWeek = new Date(startOfWeek);
  endOfWeek.setDate(startOfWeek.getDate() + 6);

  const prevWeekStart = new Date(startOfWeek);
  prevWeekStart.setDate(startOfWeek.getDate() - 7);
  const prevWeekEnd = new Date(endOfWeek);
  prevWeekEnd.setDate(endOfWeek.getDate() - 7);

  const nextWeekStart = new Date(startOfWeek);
  nextWeekStart.setDate(startOfWeek.getDate() + 7);
  const nextWeekEnd = new Date(endOfWeek);
  nextWeekEnd.setDate(endOfWeek.getDate() + 7);

  renderSection("today-section", "Today", d => sameDay(d, today));
  renderSection("this-week-section", "This Week", d => inRange(d, startOfWeek, endOfWeek));
  renderSection("previous-week-section", "Previous Week", d => inRange(d, prevWeekStart, prevWeekEnd));
  renderSection("next-week-section", "Next Week", d => inRange(d, nextWeekStart, nextWeekEnd));
})();
</script>
