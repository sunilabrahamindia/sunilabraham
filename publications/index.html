<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Publications | Sunil Abraham Documentation Project</title>

  <!-- Stylesheet -->
  <link rel="stylesheet" href="/assets/css/style.css">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/assets/favicon.png">
  <link rel="apple-touch-icon" href="/assets/favicon.png">
  <link rel="shortcut icon" href="/assets/favicon.png">
</head>


<body>
  <div class="site-wrapper">

    <!-- Header include -->
    <header class="site-header">
  <div class="brand">
    <h1><a href="/" class="site-title">Sunil Abraham Project</a></h1>
    <p class="site-subtitle">Open Source Documentation and Research</p>
  </div>

  <nav class="navbar">
    <ul>
      <li><a href="/">🏠 Home</a></li>
      <li><a href="/projects">🧩 Projects</a></li>
      <li><a href="/publications">📖 Publications</a></li>
      <li><a href="/videos">▶️ Videos</a></li>
      <li><a href="/contact">✉️ Contact</a></li>
    </ul>
  </nav>
</header>


    <!-- Main Content -->
    <main class="content">
      <h1 id="publications">Publications</h1>

<p>The <strong>Sunil Abraham Project</strong> curates and archives the published works, papers, and writings of <strong>Sunil Abraham</strong>, focusing on open knowledge, digital culture, and the social impact of technology.<br />
These publications reflect years of engagement in Free and Open Source Software (FOSS), Internet governance, and open access movements.</p>

<hr />

<h2 id="papers-and-reports">Papers and Reports</h2>

<ul>
  <li>
    <p><strong>Report on Open Government Data in India</strong> — Co-authored with Nishant Shah, Pranesh Prakash, and Glover Wright.<br />
Presented at the TAI Donors’ Conclave, San Francisco.<br />
<em>A study on transparency and data sharing within India’s public institutions.</em></p>
  </li>
  <li>
    <p><strong>Digital Natives with a Cause? A Knowledge Survey and Framework</strong> — Co-authored with Nishant Shah.<br />
Published by CIS and Hivos, 2009.<br />
<em>An exploration of youth, identity, and digital activism.</em></p>
  </li>
  <li>
    <p><strong>IOSN: Building a Global Resource</strong> — <em>Information for Development</em>, CSDMS, October 2005.<br />
<em>A reflection on building networks and resources for open source collaboration.</em></p>
  </li>
  <li>
    <p><strong>Agency and Enterprise Handbook for ICT in the Indian Small Scale Sector</strong> — Co-authored with Dr. Richard Heeks and Dr. Richard Duncombe, University of Manchester, 2004.<br />
<em>Guidelines on leveraging ICT for small-scale enterprises in India.</em></p>
  </li>
  <li>
    <p><strong>Who’s Afraid of the Old Fox</strong> — <em>Information for Development</em>, CSDMS, May 2003.<br />
<em>An early essay on information politics and technology access.</em></p>
  </li>
</ul>

<hr />

<h2 id="edited-volumes">Edited Volumes</h2>

<p>Sunil Abraham has edited several handbooks in the <strong>FOSS series</strong> published by <strong>APDIP–UNDP</strong> and <strong>Elsevier</strong>, including:</p>

<ul>
  <li><em>FOSS: Education</em> by Tan Wooi Tong</li>
  <li><em>FOSS: Government Policy</em> by Kenneth Wong</li>
  <li><em>FOSS: Localization</em> by Anousak Souphavanh and Theppitak Karoonboonyanan</li>
  <li><em>FOSS: Open Standards</em> by Nah Soo Hoe</li>
  <li><em>FOSS: Licensing</em> by Shun Ling Chen</li>
  <li><em>FOSS: Network Infrastructure and Security</em> by Gaurab Raj Upadhaya</li>
  <li><em>FOSS: Open Content</em> by Lawrence Liang</li>
</ul>

<p>These works provide practical and policy-level insights into open source adoption, licensing, and knowledge-sharing infrastructures across Asia.</p>

<hr />

<h2 id="articles-and-commentary">Articles and Commentary</h2>

<p>Sunil has written widely for major Indian and international publications including <em>The Hindu</em>, <em>DNA</em>, <em>Outlook</em>, <em>Wall Street Journal</em>, <em>Livemint</em>, and <em>Global Post</em>.<br />
His articles address digital rights, privacy, transparency, and Internet policy. Selected writings include:</p>

<ul>
  <li><em>‘Piracy is Now a Mainstream Political Phenomenon’</em> — <em>The Hindu</em></li>
  <li><em>‘Wiki’s Worth, on a Different Turf’</em> — <em>Livemint</em></li>
  <li><em>‘Change Is Coming Thanks to the Mobile’</em> — <em>DNA</em></li>
  <li><em>‘Newspapers Should Empower Citizen Journalism’</em> — <em>DNA</em></li>
  <li><em>‘Open Is the Future’</em> — <em>Open World Forum, Paris</em></li>
</ul>

<hr />

<h2 id="media-and-documentary-work">Media and Documentary Work</h2>

<ul>
  <li>
    <p>Featured in <strong>“When Copyright Goes Bad”</strong>, a film by Ben Cato Clough and Luke Upchurch.<br />
<em>Exploring the cultural and consumer impact of copyright in the digital age.</em></p>
  </li>
  <li>
    <p>Lead interviewer and script consultant for the <strong>UNDP–UNESCO–IDRC FOSS Documentary</strong>, aired on BBC World (2006).<br />
<em>Documenting the rise of open source and collaborative development across Asia.</em></p>
  </li>
</ul>

<hr />

<h2 id="lectures-and-presentations">Lectures and Presentations</h2>

<p>Sunil has lectured at universities and international conferences, including:</p>

<ul>
  <li>University of Hyderabad</li>
  <li>Tata Institute of Social Sciences (TISS), Mumbai</li>
  <li>International School on Digital Transformation, Porto, Portugal</li>
  <li>CATFOSS, Ernakulam</li>
</ul>

<p>His lectures often combine policy, technology, and ethics — addressing how open systems and free software shape social progress.</p>

    </main>

    <!-- Footer include -->
    <footer>
  <p>© 2025 Licensed under 
    <a href="https://creativecommons.org/licenses/by-sa/4.0/"> CC BY-SA 4.0</a> unless otherwise stated.
  </p>

  <p>
    🌐 Connect:
    <a href="https://www.facebook.com/abrahamsunil">Facebook</a> ·
    <a href="https://www.linkedin.com/in/sunilaabraham/">LinkedIn</a> ·
    <a href="https://x.com/sunil_abraham">𝕏</a> 
  </p>

  <p>
    🔗 Quick links: 
    <a href="https://www.sunilabraham.in/versions">Versions</a> ·
    <a href="https://github.com/sunilabrahamindia/sunilabraham">Repository</a> ·
    <a href="https://www.sunilabraham.in/sitemap">Sitemap</a> ·
    <a href="https://www.sunilabraham.in/privacy">Privacy Policy</a> ·
    <a href="https://www.sunilabraham.in/disclaimer">Disclaimer</a>
  </p>

</footer>


  </div>
  
  <!-- Utility Toolbox -->
<style>
/* Hide sidebar when wide mode is active */
body.wide-mode .site-sidebar {
  display: none !important;
}

/* Expand main content when sidebar hidden */
body.wide-mode .page-content,
body.wide-mode main,
body.wide-mode .wrapper {
  width: 100% !important;
  max-width: 100% !important;
  float: none !important;
  padding-right: 0 !important;
}

/* Toolbox container */
#utilityToolboxContainer {
  position: fixed;
  bottom: 35px;
  right: 20px;
  z-index: 99999;
  font-family: sans-serif;
  font-size: 14px;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
}

/* Toolbox toggle button */
#toggleToolbox {
  background: #2d4d7a;
  color: #fff;
  border: none;
  padding: 10px 16px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
}

/* Toolbox panel */
#toolboxContent {
  display: none;
  margin-top: 8px;
  flex-direction: column;
  gap: 12px;
  align-items: stretch;
  background: #fff;
  padding: 14px;
  border-radius: 8px;
  color: #2c3e50;
  width: 240px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.4);
}

#toolboxContent div[style*="font-weight:bold"] {
  color: #005b96;
}

.utility-button, .utility-select {
  background: #e6f2ff;
  color: #1e2a38;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
}

.utility-select {
  padding: 8px 12px;
  width: 100%;
}

#backToTopBtn {
  position: fixed;
  bottom: 35px;
  left: 10px;
  background: #2d4d7a;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 8px 12px;
  font-size: 16px;
  cursor: pointer;
  z-index: 99997;
  box-shadow: 0 2px 5px rgba(0,0,0,0.15);
  display: none;
}
</style>

<div id="utilityToolboxContainer">
  <button id="toggleToolbox" title="Toggle Utilities">⚙️ Utilities</button>
  <div id="toolboxContent" title="Accessibility and View Tools">

    <div style="text-align:center;font-weight:bold;font-size:16px;margin-bottom:8px;color:#002d62;">
      Utilities
    </div>
    
   <!-- Font Type -->
    <div>
      <div style="font-weight:bold;margin-bottom:6px;">Font type</div>
      <select id="fontSelector" class="utility-select">
        <option value="">Default</option>
        <option value="arial">Arial</option>
        <option value="georgia">Georgia</option>
        <option value="opensans">Open Sans</option>
        <option value="merriweather">Merriweather</option>
        <option value="roboto">Roboto</option>
        <option value="playfair">Playfair Display</option>
        <option value="courier">Courier New</option>
      </select>
    </div>

    <!-- Font Size -->
    <div>
      <div style="font-weight:bold;margin-bottom:6px;">Font size</div>
      <button id="textZoomIn" class="utility-button">A+</button>
      <button id="textZoomOut" class="utility-button">A−</button>
      <button id="textZoomReset" class="utility-button">🔁</button>
    </div>

    <!-- Line Height -->
    <div>
      <div style="font-weight:bold;margin-bottom:6px;">Line height</div>
      <button id="lineHeightIncrease" class="utility-button">⬆️</button>
      <button id="lineHeightDecrease" class="utility-button">⬇️</button>
      <button id="lineHeightReset" class="utility-button">🔁</button>
    </div>
    
    <!-- Font Colour -->
    <div>
      <div style="font-weight:bold;margin-bottom:6px;">🖍 Font colour</div>
      <select id="fontColorSelect" class="utility-select">
        <option value="">Default</option>
        <option value="darkgreen">Dark Green</option>
        <option value="darkred">Dark Red</option>
        <option value="indigo">Indigo</option>
        <option value="maroon">Maroon</option>
        <option value="midnightblue">Midnight Blue</option>
        <option value="saddlebrown">Saddle Brown</option>
      </select>
    </div>

    <!-- Background Colour -->
    <div>
      <div style="font-weight:bold;margin-bottom:6px;">🎨 Background</div>
      <select id="bgColorSelect" class="utility-select">
        <option value="">Default</option>
        <option value="aliceblue">Alice Blue</option>
        <option value="beige">Beige</option>
        <option value="floralwhite">Floral White</option>
        <option value="honeydew">Mint</option>
        <option value="ivory">Ivory</option>
        <option value="lavenderblush">Lavender</option>
        <option value="lemonchiffon">Lemon</option>
        <option value="lightgrey">Light Grey</option>
        <option value="mintcream">Mint Cream</option>
        <option value="whitesmoke">White Smoke</option>
      </select>
    </div>

    <!-- Reset -->
    <div style="text-align:center;">
      <button id="resetAllBtn" style="background:#c62828;color:#fff;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;font-size:14px;">
        🔄 Reset All
      </button>
    </div>
  </div>
</div>

<!-- Back to Top -->
<button id="backToTopBtn" title="Back to Top">⬆️</button>

<script>
window.addEventListener("load", function () {
  const body = document.body;
  const toggleBtn = document.getElementById("toggleToolbox");
  const toolbox = document.getElementById("toolboxContent");

  toggleBtn.onclick = () => {
    const expanded = toolbox.style.display === "flex";
    toolbox.style.display = expanded ? "none" : "flex";
    toggleBtn.textContent = expanded ? "⚙️ Utilities" : "❌ Close";
  };

  // Font size
  let fontSize = parseFloat(localStorage.getItem("zoomFontSize")) || 100;
  function applyFontSize() {
    document.querySelectorAll("main, article, .page-content, .wrapper").forEach(el => el.style.fontSize = fontSize + "%");
    localStorage.setItem("zoomFontSize", fontSize);
  }
  document.getElementById("textZoomIn").onclick = () => { if (fontSize < 200) { fontSize += 10; applyFontSize(); }};
  document.getElementById("textZoomOut").onclick = () => { if (fontSize > 60) { fontSize -= 10; applyFontSize(); }};
  document.getElementById("textZoomReset").onclick = () => { fontSize = 100; applyFontSize(); };
  applyFontSize();

  // Line height
  let lineHeight = parseFloat(localStorage.getItem("customLineHeight")) || 1.6;
  function applyLineHeight() {
    document.querySelectorAll("main, article, .page-content, .wrapper").forEach(el => el.style.lineHeight = lineHeight);
    localStorage.setItem("customLineHeight", lineHeight);
  }
  document.getElementById("lineHeightIncrease").onclick = () => { if (lineHeight < 3) { lineHeight = Math.round((lineHeight + 0.1) * 10) / 10; applyLineHeight(); }};
  document.getElementById("lineHeightDecrease").onclick = () => { if (lineHeight > 1) { lineHeight = Math.round((lineHeight - 0.1) * 10) / 10; applyLineHeight(); }};
  document.getElementById("lineHeightReset").onclick = () => { lineHeight = 1.6; applyLineHeight(); };
  applyLineHeight();

  // Fonts (Google Fonts)
  const fontLinks = [
    'https://fonts.googleapis.com/css2?family=Open+Sans&display=swap',
    'https://fonts.googleapis.com/css2?family=Merriweather&display=swap',
    'https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap',
    'https://fonts.googleapis.com/css2?family=Roboto&display=swap'
  ];
  fontLinks.forEach(link => {
    const l = document.createElement('link');
    l.href = link;
    l.rel = 'stylesheet';
    document.head.appendChild(l);
  });

  const fontSelector = document.getElementById("fontSelector");
  const fontMap = {
    arial: "Arial, sans-serif",
    courier: "'Courier New', monospace",
    georgia: "Georgia, serif",
    opensans: "'Open Sans', sans-serif",
    merriweather: "'Merriweather', serif",
    playfair: "'Playfair Display', serif",
    roboto: "'Roboto', sans-serif"
  };

  function applyFontFamily(key) {
    const val = fontMap[key];
    document.querySelectorAll("main, article, .page-content, .wrapper").forEach(el => el.style.fontFamily = val || "");
    localStorage.setItem("fontFamily", key || "");
  }

  fontSelector.onchange = () => applyFontFamily(fontSelector.value);
  const savedFont = localStorage.getItem("fontFamily");
  if (savedFont) { fontSelector.value = savedFont; applyFontFamily(savedFont); }

  // Font colour
  const fontColorSelect = document.getElementById("fontColorSelect");
  fontColorSelect.onchange = function () {
    document.querySelectorAll("main, article, .page-content, .wrapper").forEach(el => el.style.color = this.value || "");
    localStorage.setItem("fontColor", this.value || "");
  };
  const savedFontColor = localStorage.getItem("fontColor");
  if (savedFontColor) {
    document.querySelectorAll("main, article, .page-content, .wrapper").forEach(el => el.style.color = savedFontColor);
    fontColorSelect.value = savedFontColor;
  }

// Background colour
const bgSelect = document.getElementById("bgColorSelect");
bgSelect.onchange = function () {
  const bg = this.value || "";
  localStorage.setItem("bgColor", bg);
  applyBackground(bg);
};

function applyBackground(bg) {
  // Apply to full page and main containers
  body.style.setProperty("background-color", bg, "important");
  document.documentElement.style.setProperty("background-color", bg, "important");
  document.querySelectorAll("main, article, .page-content, .wrapper").forEach(el => {
    el.style.setProperty("background-color", bg, "important");
  });
  body.style.transition = "background-color 0.4s ease";
}

const savedBg = localStorage.getItem("bgColor");
if (savedBg) {
  applyBackground(savedBg);
  bgSelect.value = savedBg;
}

  // Reset all 
  document.getElementById("resetAllBtn").onclick = () => {
    ["zoomFontSize", "customLineHeight", "fontFamily", "fontColor", "bgColor", "sidebarHidden"].forEach(k => localStorage.removeItem(k));
    fontSize = 100; lineHeight = 1.6; sidebarHidden = false;
    body.classList.remove("wide-mode");
    applyFontSize(); applyLineHeight(); applySidebarState();
    document.querySelectorAll("main, article, .page-content, .wrapper").forEach(el => {
      el.style.fontFamily = ""; el.style.color = "";
    });
    body.style.backgroundColor = "";
    fontSelector.value = ""; fontColorSelect.value = ""; bgSelect.value = "";
  };

  // Back to top
  const topBtn = document.getElementById("backToTopBtn");
  window.addEventListener("scroll", () => topBtn.style.display = window.scrollY > 300 ? "block" : "none");
  topBtn.onclick = () => window.scrollTo({ top: 0, behavior: "smooth" });
});
</script>
<!-- End Utility Toolbox -->
<!-- =========================================================
     Sunil Abraham Project
     Top Share Bar (GitHub Pages Compatible)
     Licence: CC BY-SA 4.0
     ========================================================= -->

<!-- SC: Top Share Bar with Icons -->
<div id="sc-share-bar">
  <!-- Search button -->
  <button id="sc-search-btn" title="Search this site">
    <img src="https://cdn-icons-png.flaticon.com/128/622/622669.png" alt="Search" />
  </button>

  <!-- Visible share buttons -->
  <div class="sc-share-buttons" id="sc-visible-buttons">
    <button onclick="scShare('facebook')" title="Share on Facebook">
      <img src="https://cdn-icons-png.flaticon.com/128/145/145802.png" alt="Facebook" />
    </button>
    <button onclick="scShare('x')" title="Post on X">
      <img src="https://cdn-icons-png.flaticon.com/128/5968/5968958.png" alt="X Logo" />
    </button>
    <button onclick="scShare('linkedin')" title="Share on LinkedIn">
      <img src="https://cdn-icons-png.flaticon.com/128/145/145807.png" alt="LinkedIn" />
    </button>
    <button onclick="scShare('email')" title="Share via Email">
      <img src="https://cdn-icons-png.flaticon.com/128/732/732200.png" alt="Email" />
    </button>
    <button onclick="scShare('print')" title="Print this page">
      <img src="https://cdn-icons-png.flaticon.com/128/337/337946.png" alt="Print PDF" />
    </button>
    <button id="sc-more-toggle" title="More share options">
      <img src="https://cdn-icons-png.flaticon.com/128/32/32195.png" alt="More" />
    </button>
  </div>

  <!-- Hidden buttons -->
  <div class="sc-share-buttons" id="sc-hidden-buttons">
    <button onclick="scShare('whatsapp')" title="Share on WhatsApp">
      <img src="https://cdn-icons-png.flaticon.com/128/733/733585.png" alt="WhatsApp" />
    </button>
    <button onclick="scShare('telegram')" title="Send via Telegram">
      <img src="https://cdn-icons-png.flaticon.com/128/2111/2111646.png" alt="Telegram" />
    </button>
    <button onclick="scShare('reddit')" title="Share on Reddit">
      <img src="https://cdn-icons-png.flaticon.com/128/2111/2111589.png" alt="Reddit" />
    </button>
    <button onclick="scShare('pinterest')" title="Share on Pinterest">
      <img src="https://cdn-icons-png.flaticon.com/128/145/145808.png" alt="Pinterest" />
    </button>
    <button onclick="scShare('skype')" title="Share on Skype">
      <img src="https://cdn-icons-png.flaticon.com/128/2111/2111670.png" alt="Skype" />
    </button>
    <button onclick="scShare('viber')" title="Share on Viber">
      <img src="https://cdn-icons-png.flaticon.com/128/2111/2111716.png" alt="Viber" />
    </button>
    <button onclick="scShare('signal')" title="Share on Signal">
      <img src="https://cdn-icons-png.flaticon.com/128/2111/2111363.png" alt="Signal" />
    </button>
    <button onclick="scShare('copy')" title="Copy page link">
      <img src="https://cdn-icons-png.flaticon.com/128/60/60577.png" alt="Copy Link" />
    </button>
  </div>

  <!-- Close bar button -->
  <button id="sc-share-close" title="Close bar">
    <img src="https://cdn-icons-png.flaticon.com/128/1828/1828774.png" alt="Close" />
  </button>
</div>

<!-- =========================================================
     Style
     ========================================================= -->
<style>
  #sc-share-bar {
    position: fixed;
    top: 0; left: 0; right: 0;
    z-index: 9999;
    background: rgba(248, 250, 252, 0.95); /* same calm tone as site background */
    backdrop-filter: blur(6px);
    border-bottom: 1px solid rgba(0, 0, 0, 0.06);
    box-shadow: 0 2px 6px rgba(0,0,0,0.08);
    display: flex;
    justify-content: center;
    align-items: center;
    flex-wrap: wrap;
    gap: 8px;
    padding: 6px 10px;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
    transition: top 0.3s ease, background 0.4s ease;
  }

  /* Buttons blend with background */
  #sc-share-bar button {
    background: transparent;
    border: none;
    border-radius: 6px;
    padding: 5px;
    cursor: pointer;
    transition: transform 0.2s ease, opacity 0.2s ease;
  }

  #sc-share-bar button:hover {
    transform: translateY(-1px);
    opacity: 0.85;
  }

  #sc-share-bar button img {
    width: 22px;
    height: 22px;
    display: block;
    filter: brightness(0.95);
  }

  #sc-share-close {
    position: absolute;
    top: 6px;
    right: 8px;
  }

  #sc-search-btn {
    position: absolute;
    left: 8px;
    top: 6px;
  }

  .sc-share-buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 8px;
  }

  #sc-hidden-buttons {
    display: none;
  }

  /* Search field matches same tone */
  #sc-share-bar input.search-inline {
    background: rgba(255,255,255,0.9);
    border: 1px solid #d0d7de;
    border-radius: 6px;
    padding: 6px 10px;
    font-size: 14px;
    outline: none;
    margin-left: 8px;
    transition: box-shadow 0.2s ease, background 0.3s ease;
  }

  #sc-share-bar input.search-inline:focus {
    background: #fff;
    box-shadow: 0 0 8px rgba(51,77,112,0.2);
  }

  #sc-share-bar .search-close-btn {
    background: none;
    border: none;
    font-size: 16px;
    cursor: pointer;
    margin-left: 6px;
    color: #0a2e57;
  }

  #sc-share-close img {
    filter: invert(20%) sepia(20%) saturate(600%) hue-rotate(200deg);
  }

  #sc-share-close:hover img {
    filter: brightness(0.7);
  }

  @media (max-width: 768px) {
    body { padding-top: 40px !important; }
  }

  @media (min-width: 769px) {
    body { padding-top: 40px; }
  }
</style>

</style>



<!-- =========================================================
     Script
     ========================================================= -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  function scShare(type) {
    const url = encodeURIComponent(window.location.href);
    const title = encodeURIComponent(document.title);

    const targets = {
      facebook: `https://www.facebook.com/sharer/sharer.php?u=${url}`,
      x: `https://twitter.com/intent/tweet?text=${title}&url=${url}`,
      linkedin: `https://www.linkedin.com/sharing/share-offsite/?url=${url}`,
      email: `mailto:?subject=${title}&body=${title}%0A${url}`,
      whatsapp: `https://wa.me/?text=${title}%20${url}`,
      telegram: `https://t.me/share/url?url=${url}&text=${title}`,
      reddit: `https://www.reddit.com/submit?url=${url}&title=${title}`,
      pinterest: `https://pinterest.com/pin/create/button/?url=${url}&description=${title}`,
      skype: `https://web.skype.com/share?url=${url}&text=${title}`,
      viber: `viber://forward?text=${title}%20${url}`,
      signal: `sgnl://send?text=${title}%20${url}`,
      print: null,
      copy: null
    };

    if (type === 'copy') {
      navigator.clipboard.writeText(window.location.href).catch(()=>{});
      alert('Link copied!');
    } else if (type === 'print') {
      const post = document.querySelector('main, article, .content, .page-content');
      if (post) {
        const w = window.open('', '', 'width=800,height=600');
        w.document.write('<html><head><title>' + document.title + '</title><style>body{font-family:sans-serif;padding:20px;}img{max-width:100%;}</style></head><body>' + post.innerHTML + '</body></html>');
        w.document.close(); w.focus(); w.print(); w.close();
      }
    } else if (targets[type]) {
      window.open(targets[type], '_blank');
    }
  }

  window.scShare = scShare;

  // Toggle hidden buttons
  document.getElementById('sc-more-toggle').onclick = function() {
    const hidden = document.getElementById('sc-hidden-buttons');
    hidden.style.display = hidden.style.display === 'flex' ? 'none' : 'flex';
  };

  // Close bar
  document.getElementById('sc-share-close').onclick = function() {
    document.getElementById('sc-share-bar').style.display = 'none';
  };

  // Search bar (DuckDuckGo site search)
  document.getElementById('sc-search-btn').onclick = function() {
    if (document.querySelector('.search-inline')) return;

    const form = document.createElement('form');
    form.action = 'https://duckduckgo.com/';
    form.method = 'get';
    form.style.display = 'inline-flex';
    form.style.alignItems = 'center';

    const input = document.createElement('input');
    input.type = 'text';
    input.name = 'q';
    input.className = 'search-inline';
    input.placeholder = 'Search this site...';

    const hidden = document.createElement('input');
    hidden.type = 'hidden';
    hidden.name = 'sites';
    hidden.value = window.location.hostname;
    form.appendChild(hidden);

    const closeBtn = document.createElement('button');
    closeBtn.type = 'button';
    closeBtn.className = 'search-close-btn';
    closeBtn.innerHTML = '×';
    closeBtn.onclick = () => form.remove();

    form.appendChild(input);
    form.appendChild(closeBtn);
    document.getElementById('sc-share-bar').appendChild(form);
    input.focus();

    input.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') form.remove();
    });
  };
});
</script>

</body>
</html>
